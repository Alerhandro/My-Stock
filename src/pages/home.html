<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Painel Principal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../styles/globals.css" />
    <link rel="stylesheet" href="../styles/home.css" />
  </head>
  <body>
    <div class="sidebar">
      <div class="logo">
        <img src="../assets/logo7.png" alt="Logo" />
      </div>
      <nav class="menu">
        <a class="menu-item active" data-page="inicio">Início</a>
        <a class="menu-item" data-page="estoque">Ver Estoque</a>
        <a class="menu-item" data-page="relatorio">Relatório</a>
        <a class="menu-item" data-page="usuarios">Usuários</a>
        <a class="menu-item" data-page="configuracoes">Configurações</a>
      </nav>
    </div>
    <main class="main-content">
      <header class="header">
        <h1 id="page-title">Painel de Controlo</h1>
        <div class="user-info">
          <span><strong id="user-display-name"></strong></span>
          <button id="logout-button">Sair</button>
        </div>
      </header>
      <section id="content-area"></section>
    </main>
    <div id="alert-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <p id="modal-message"></p>
        <div class="modal-buttons">
          <button id="modal-cancel-button" style="display: none">
            Cancelar
          </button>
          <button id="modal-ok-button">OK</button>
        </div>
      </div>
    </div>
    <div id="edit-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h3>Editar Produto</h3>
        <form id="edit-product-form">
          <input type="hidden" id="edit-product-id" />
          <div class="form-group">
            <label for="edit-product-name">Nome do Produto</label>
            <input type="text" id="edit-product-name" required />
          </div>
          <div class="form-group">
            <label for="edit-product-quantity">Quantidade</label>
            <input type="number" id="edit-product-quantity" required />
          </div>
          <div class="form-group">
            <label for="edit-product-value">Valor Unitário (R$)</label>
            <input
              type="number"
              id="edit-product-value"
              step="0.01"
              placeholder="Ex: 15.50"
              value="0"
              required
            />
          </div>
          <div class="form-group">
            <label for="edit-min-quantity">Qtd. Mínima para Alerta</label>
            <input
              type="number"
              id="edit-min-quantity"
              placeholder="Ex: 5"
              value="0"
              required
            />
          </div>
          <button type="submit">Guardar Alterações</button>
        </form>
      </div>
    </div>
    <div id="add-product-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h3>Adicionar Novo Produto</h3>
        <form id="add-product-from-view-form">
          <div class="form-group">
            <label for="add-product-name-view">Nome do Produto</label>
            <input type="text" id="add-product-name-view" required />
          </div>
          <div class="form-group">
            <label for="add-product-quantity-view">Quantidade</label>
            <input type="number" id="add-product-quantity-view" required />
          </div>
          <div class="form-group">
            <label for="add-product-value-view">Valor Unitário (R$)</label>
            <input
              type="number"
              id="add-product-value-view"
              step="0.01"
              placeholder="Ex: 15.50"
              value="0"
              required
            />
          </div>
          <div class="form-group">
            <label for="add-min-quantity-view">Qtd. Mínima para Alerta</label>
            <input
              type="number"
              id="add-min-quantity-view"
              placeholder="Ex: 5"
              value="0"
              required
            />
          </div>
          <button type="submit">Adicionar</button>
        </form>
      </div>
    </div>

    <div id="rename-inventory-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h3>Renomear Estoque</h3>
        <form id="rename-inventory-form">
          <input type="hidden" id="rename-inventory-id" />
          <div class="form-group">
            <label for="rename-inventory-name">Novo nome do Estoque</label>
            <input type="text" id="rename-inventory-name" required />
          </div>
          <button type="submit">Guardar Alterações</button>
        </form>
      </div>
    </div>

    <div id="theme-select-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h3>Escolha um Tema</h3>
        <div id="theme-selector-grid" class="theme-options-grid"></div>
      </div>
    </div>

    <div id="toast-container"></div>

    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="../../node_modules/jspdf/dist/jspdf.umd.min.js"></script>
    <script src="../../node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.js"></script>
    <script src="../firebaseConfig.js"></script>
    <script src="../scripts/home.js"></script>
  </body>
</html>
